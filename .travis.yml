# Tell Travis the project language.
language: c

# Route to the container-based infrastructure for a faster build.
sudo: false

# Branch whitelist.
branches:
  only:
    - master

# Choose operating systems.
os:
  - linux
  - osx

# Choose compilers.
compiler:
  - clang
  - gcc

# Override default install.
install: autoreconf --install

# Override default script.
script: ./configure && make && make check

jobs:
  include:
    - stage: dist
      before_script:
        - ./configure
        - make
        - make dist
        - mv edutils-*.tar.gz ~
        - cd
        - tar -xzf edutils-*.tar.gz
        - cd edutil-*
